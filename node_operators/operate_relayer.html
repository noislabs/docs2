<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>operate a relayer.md - Nois Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../title.html">Nois Documentation</a></li><li class="chapter-item expanded "><a href="../general.html"><strong aria-hidden="true">1.</strong> General</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../what_is_nois.html"><strong aria-hidden="true">1.1.</strong> What is Nois</a></li><li class="chapter-item expanded "><a href="../how_it_works.html"><strong aria-hidden="true">1.2.</strong> How it works</a></li><li class="chapter-item expanded "><a href="../drand.html"><strong aria-hidden="true">1.3.</strong> Drand</a></li><li class="chapter-item expanded "><a href="../use_cases.html"><strong aria-hidden="true">1.4.</strong> Use-cases</a></li><li class="chapter-item expanded "><a href="../team.html"><strong aria-hidden="true">1.5.</strong> The team</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">1.6.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../links.html"><strong aria-hidden="true">1.7.</strong> Links</a></li></ol></li><li class="chapter-item expanded "><a href="../for_token_holders_and_investors.html"><strong aria-hidden="true">2.</strong> For token holders and investors</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../how_to_stake.html"><strong aria-hidden="true">2.1.</strong> How to stake</a></li><li class="chapter-item expanded "><a href="../tokenomics.html"><strong aria-hidden="true">2.2.</strong> Tokenomics</a></li></ol></li><li class="chapter-item expanded "><a href="../dapp_devs/use_nois_randomness.html"><strong aria-hidden="true">3.</strong> For Dapp developers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dapp_devs/contract_implementation.html"><strong aria-hidden="true">3.1.</strong> Contract Implementation</a></li><li class="chapter-item expanded "><a href="../dapp_devs/interacting_with_a_dapp.html"><strong aria-hidden="true">3.2.</strong> Interacting with a Dapp</a></li><li class="chapter-item expanded "><a href="../dapp_devs/nois_toolbox.html"><strong aria-hidden="true">3.3.</strong> Nois Toolbox</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dapp_devs/toolbox_in_rust.html"><strong aria-hidden="true">3.3.1.</strong> Toolbox in Rust</a></li><li class="chapter-item expanded "><a href="../dapp_devs/toolbox_in_js.html"><strong aria-hidden="true">3.3.2.</strong> Toolbox in js</a></li></ol></li><li class="chapter-item expanded "><a href="../dapp_devs/video_tutorial.html"><strong aria-hidden="true">3.4.</strong> Video Tutorial</a></li><li class="chapter-item expanded "><a href="../dapp_devs/dev_faq.html"><strong aria-hidden="true">3.5.</strong> Developer Questions</a></li></ol></li><li class="chapter-item expanded "><a href="../node_operators/index.html"><strong aria-hidden="true">4.</strong> For Node operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/networks.html"><strong aria-hidden="true">4.1.</strong> Networks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/mainnet.html"><strong aria-hidden="true">4.1.1.</strong> Mainnet</a></li><li class="chapter-item expanded "><a href="../node_operators/testnet_005.html"><strong aria-hidden="true">4.1.2.</strong> Testnet 005</a></li><li class="chapter-item expanded "><a href="../node_operators/faucet.html"><strong aria-hidden="true">4.1.3.</strong> Faucet</a></li><li class="chapter-item expanded "><a href="../checksums.html"><strong aria-hidden="true">4.1.4.</strong> Contract checksums</a></li></ol></li><li class="chapter-item expanded "><a href="../node_operators/run_a_node.html"><strong aria-hidden="true">4.2.</strong> Run a node</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/status_checks.html"><strong aria-hidden="true">4.2.1.</strong> Status Checks</a></li><li class="chapter-item expanded "><a href="../node_operators/history.html"><strong aria-hidden="true">4.2.2.</strong> History settings</a></li><li class="chapter-item expanded "><a href="../node_operators/cors.html"><strong aria-hidden="true">4.2.3.</strong> CORS</a></li><li class="chapter-item expanded "><a href="../node_operators/systemd.html"><strong aria-hidden="true">4.2.4.</strong> Using Systemd</a></li><li class="chapter-item expanded "><a href="../validator_rewards.html"><strong aria-hidden="true">4.2.5.</strong> Validator Rewards</a></li></ol></li><li class="chapter-item expanded "><a href="../node_operators/relayer.html"><strong aria-hidden="true">4.3.</strong> Relayer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/operate_relayer.html" class="active"><strong aria-hidden="true">4.3.1.</strong> operate a relayer.md</a></li></ol></li><li class="chapter-item expanded "><a href="../drand_bots.html"><strong aria-hidden="true">4.4.</strong> Drand Bots</a></li></ol></li><li class="chapter-item expanded "><a href="../integrate_nois_to_your_chain.html"><strong aria-hidden="true">5.</strong> Bring Nois to your Chain</a></li><li class="chapter-item expanded "><a href="../randdrop.html"><strong aria-hidden="true">6.</strong> Make a random airdrop for your project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../snapshot.html"><strong aria-hidden="true">6.1.</strong> Snapshot</a></li><li class="chapter-item expanded "><a href="../deployment.html"><strong aria-hidden="true">6.2.</strong> Deployment</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Nois Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/noislabs/docs2" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/noislabs/docs2/edit/main/src/node_operators/operate_relayer.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ibc-wasm-relayer"><a class="header" href="#ibc-wasm-relayer">IBC wasm relayer</a></h1>
<blockquote>
<p>In this tutorial we are using the hermes relayer software.
However, feel free to use other relayer software like Hermes and if you want
to contribute to the docs by providing the steps for setting up such different
software let us know on discord</p>
</blockquote>
<hr />
<p>Setting up hermes relayer</p>
<p>Install hermes from this <a href="https://hermes.informal.systems/quick-start/installation.html">link</a></p>
<p>Confgure hermes</p>
<pre><code class="language-toml">[global]
log_level = 'info'
[mode]
[mode.clients]
enabled = true
refresh = true
misbehaviour = false
[mode.connections]
enabled = false
[mode.channels]
enabled = false
[mode.packets]
enabled = true
clear_interval = 5
clear_on_start = true
tx_confirmation = false
[rest]
enabled = true
host = '127.0.0.1'
port = 3000
[telemetry]
enabled = true
host = '127.0.0.1'
port = 3001


[[chains]]
id = &quot;nois-testnet-005&quot;
type = &quot;CosmosSdk&quot;
memo_prefix = 'Relayed by Katarina'
rpc_addr = &quot;https://nois-testnet-rpc.polkachu.com:443&quot;
grpc_addr = &quot;https://tnois-grpc.systemd.run:443&quot;
event_source = { mode = 'pull', interval = '1s' }

rpc_timeout = &quot;10s&quot;
account_prefix = &quot;nois&quot;
key_name = &quot;mynoiskey&quot;
key_store_type = &quot;Test&quot;
store_prefix = &quot;ibc&quot;
default_gas = 100000
max_gas = 4000000
gas_multiplier = 1.1
max_msg_num = 30
max_tx_size = 180000
max_grpc_decoding_size = 33554432
clock_drift = &quot;5s&quot;
max_block_time = &quot;30s&quot;
ccv_consumer_chain = false
sequential_batch_tx = false

[chains.trust_threshold]
numerator = &quot;1&quot;
denominator = &quot;3&quot;

[chains.gas_price]
price = 0.1
denom = &quot;unois&quot;

[chains.packet_filter]
policy = &quot;allowall&quot;

[chains.packet_filter.min_fees]

[chains.address_type]
derivation = &quot;cosmos&quot;

##################
#Mainnet
#################

[[chains]]
id = 'nois-1'
address_type = { derivation = 'cosmos' }
memo_prefix = 'Relayed by Katarina'
ccv_consumer_chain = false
event_source = { mode = 'pull', interval = '1s' }

rpc_addr = 'https://nois-rpc.nysa.network:443'
grpc_addr = 'http://nois.grpc.m.stavr.tech:191'

rpc_timeout = '20s'
account_prefix = 'nois'
key_name = 'nois'
store_prefix = 'ibc'
max_tx_size = 180000
max_msg_num=15
max_gas= 4000000
gas_price = { price = 0.5, denom = 'unois' }
gas_multiplier = 1.5
max_block_time = '5s'
clock_drift = '5s'
trusting_period = '14days'
trust_threshold = { numerator = '1', denominator = '3' }
[chains.packet_filter]
policy = &quot;allowall&quot;

###########################

[[chains]]
id = 'uni-6'
type = &quot;CosmosSdk&quot;
event_source = { mode = 'pull', interval = '1s' }
memo_prefix = 'Relayed by Katarina'

rpc_addr = 'https://juno-testnet-rpc.polkachu.com:443'
grpc_addr = 'http://juno-testnet-grpc.polkachu.com:12690'
#poll_interval= '1s'

rpc_timeout = '10s'
account_prefix = 'juno'
key_name = 'juno'
store_prefix = 'ibc'
max_tx_size = 180000
max_msg_num=30
max_gas= 40000000
gas_price = { price = 0.025, denom = 'ujunox' }
gas_multiplier = 1.2
max_block_time = '15s'
clock_drift = '5s'
trusting_period = '14days'
trust_threshold = { numerator = '1', denominator = '3' }
ccv_consumer_chain = false
sequential_batch_tx = false
[chains.packet_filter]
policy = &quot;allowall&quot;
[chains.address_type]
derivation = &quot;cosmos&quot;

###########################
</code></pre>
<h2 id="relay-traffic"><a class="header" href="#relay-traffic">Relay traffic</a></h2>
<pre><code class="language-sh">hermes start
</code></pre>
<h2 id="set-up-a-new--client-connection-and-channels"><a class="header" href="#set-up-a-new--client-connection-and-channels">Set up a new  client, connection and channels</a></h2>
<h4 id="create-ibc-clients"><a class="header" href="#create-ibc-clients">Create ibc clients</a></h4>
<pre><code class="language-sh">hermes create client --host-chain uni-6 --reference-chain nois-testnet-005 --clock-drift 20s
#Note the client id created by this operation (will be needed later on)
hermes create client --host-chain nois-testnet-005 --reference-chain uni-6 --clock-drift 20s
#Note the client id created by this operation (will be needed later on)
</code></pre>
<h4 id="create-ibc-connection"><a class="header" href="#create-ibc-connection">Create ibc connection</a></h4>
<pre><code class="language-sh">#07-tendermint-19  is the client id that was generated when creating the client on uni-6
#07-tendermint-14  is the client id that was generated when creating the client on nois-testnet-005
hermes create connection --a-chain nois-1  --a-client 07-tendermint-14  --b-client   07-tendermint-19 
</code></pre>
<h4 id="create-transfer-channel"><a class="header" href="#create-transfer-channel">Create transfer channel</a></h4>
<pre><code class="language-sh">#change the xxx with the connection-id on uni-6 point to nois
hermes create channel --a-chain uni-6 --a-connection connection-xxx --a-port transfer  --b-port trasnfer
</code></pre>
<h4 id="create-wasm-channel"><a class="header" href="#create-wasm-channel">Create wasm channel</a></h4>
<pre><code class="language-sh">hermes create channel --a-chain uni-6 --a-connection connection-72 --a-port wasm.juno1blablabla(uni proxy address)  --b-port wasm.noisblabla(nois gateway address)  --channel-version nois-v7
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../node_operators/relayer.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../drand_bots.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../node_operators/relayer.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../drand_bots.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
