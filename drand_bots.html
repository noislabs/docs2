<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Drand Bots - Nois Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title.html">Nois Documentation</a></li><li class="chapter-item expanded "><a href="general.html"><strong aria-hidden="true">1.</strong> General</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="what_is_nois.html"><strong aria-hidden="true">1.1.</strong> What is Nois</a></li><li class="chapter-item expanded "><a href="how_it_works.html"><strong aria-hidden="true">1.2.</strong> How it works</a></li><li class="chapter-item expanded "><a href="drand.html"><strong aria-hidden="true">1.3.</strong> Drand</a></li><li class="chapter-item expanded "><a href="use_cases.html"><strong aria-hidden="true">1.4.</strong> Use-cases</a></li><li class="chapter-item expanded "><a href="faq.html"><strong aria-hidden="true">1.5.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="links.html"><strong aria-hidden="true">1.6.</strong> Links</a></li></ol></li><li class="chapter-item expanded "><a href="for_token_holders_and_investors.html"><strong aria-hidden="true">2.</strong> For token holders and investors</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="how_to_stake.html"><strong aria-hidden="true">2.1.</strong> How to stake</a></li></ol></li><li class="chapter-item expanded "><a href="dapp_devs/use_nois_randomness.html"><strong aria-hidden="true">3.</strong> For Dapp developers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="dapp_devs/contract_implementation.html"><strong aria-hidden="true">3.1.</strong> Contract Implementation</a></li><li class="chapter-item expanded "><a href="dapp_devs/interacting_with_a_dapp.html"><strong aria-hidden="true">3.2.</strong> Interacting with a Dapp</a></li><li class="chapter-item expanded "><a href="dapp_devs/nois_toolbox.html"><strong aria-hidden="true">3.3.</strong> Nois Toolbox</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="dapp_devs/toolbox_in_rust.html"><strong aria-hidden="true">3.3.1.</strong> Toolbox in Rust</a></li><li class="chapter-item expanded "><a href="dapp_devs/toolbox_in_js.html"><strong aria-hidden="true">3.3.2.</strong> Toolbox in js</a></li><li class="chapter-item expanded "><a href="dapp_devs/video_tutorial.html"><strong aria-hidden="true">3.3.3.</strong> Video Tutorial</a></li></ol></li><li class="chapter-item expanded "><a href="dapp_devs/dev_faq.html"><strong aria-hidden="true">3.4.</strong> Developer Questions</a></li></ol></li><li class="chapter-item expanded "><a href="node_operators/index.html"><strong aria-hidden="true">4.</strong> For Node operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="node_operators/networks.html"><strong aria-hidden="true">4.1.</strong> Networks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="node_operators/mainnet.html"><strong aria-hidden="true">4.1.1.</strong> Mainnet</a></li><li class="chapter-item expanded "><a href="node_operators/testnet_005.html"><strong aria-hidden="true">4.1.2.</strong> Testnet 005</a></li><li class="chapter-item expanded "><a href="node_operators/faucet.html"><strong aria-hidden="true">4.1.3.</strong> Faucet</a></li><li class="chapter-item expanded "><a href="checksums.html"><strong aria-hidden="true">4.1.4.</strong> Contract checksums</a></li></ol></li><li class="chapter-item expanded "><a href="node_operators/run_a_node.html"><strong aria-hidden="true">4.2.</strong> Run a node</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="node_operators/status_checks.html"><strong aria-hidden="true">4.2.1.</strong> Status Checks</a></li><li class="chapter-item expanded "><a href="node_operators/history.html"><strong aria-hidden="true">4.2.2.</strong> History settings</a></li><li class="chapter-item expanded "><a href="node_operators/cors.html"><strong aria-hidden="true">4.2.3.</strong> CORS</a></li><li class="chapter-item expanded "><a href="node_operators/systemd.html"><strong aria-hidden="true">4.2.4.</strong> Using Systemd</a></li><li class="chapter-item expanded "><a href="validator_rewards.html"><strong aria-hidden="true">4.2.5.</strong> Validator Rewards</a></li></ol></li><li class="chapter-item expanded "><a href="node_operators/relayer.html"><strong aria-hidden="true">4.3.</strong> Relayer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="node_operators/wasm_relayer.html"><strong aria-hidden="true">4.3.1.</strong> wasm-Relayer</a></li><li class="chapter-item expanded "><a href="node_operators/ics20_relayer.html"><strong aria-hidden="true">4.3.2.</strong> ICS20-Relayer</a></li></ol></li><li class="chapter-item expanded "><a href="drand_bots.html" class="active"><strong aria-hidden="true">4.4.</strong> Drand Bots</a></li></ol></li><li class="chapter-item expanded "><a href="integrate_nois_to_your_chain.html"><strong aria-hidden="true">5.</strong> Bring Nois to your Chain</a></li><li class="chapter-item expanded "><a href="randdrop.html"><strong aria-hidden="true">6.</strong> Make a random airdrop for your project</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Nois Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/noislabs/docs2" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/noislabs/docs2/edit/main/src/drand_bots.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="drand-bots"><a class="header" href="#drand-bots">Drand Bots</a></h2>
<h3 id="introduction"><a class="header" href="#introduction">Introduction</a></h3>
<p>Bots bring randomness from drand to the Nois blockchain. That's the only thing
the bot does. Once that randomness is on chain, it will be offered to Dapps
across the Cosmos.</p>
<blockquote>
<p><strong>ℹ️ Drand-bots do not and cannot generate randomness. The simply relay it
from drand to nois chains.</strong></p>
</blockquote>
<blockquote>
<p><strong>ℹ️ Drand-bots are never slashed and do not need to put any collateral simply
because they cannot cheat.</strong></p>
</blockquote>
<blockquote>
<p><strong>⚠️ Although drand-bots cannot impact the outcome of the randomness, they can
impact the availability of the randomness by stopping to work or by failing to
submit to the nois chain. This is why they are incentivised and constitute a
critical piece of Nois.</strong></p>
</blockquote>
<h3 id="running-a-drand-bot"><a class="header" href="#running-a-drand-bot">Running a Drand Bot</a></h3>
<p>There are two available tools available</p>
<h4 id="drand-bot-1"><a class="header" href="#drand-bot-1">drand-bot-1</a></h4>
<h5 id="running-using-a-docker-image"><a class="header" href="#running-using-a-docker-image">Running using a Docker image.</a></h5>
<p>The Docker image is probably the most convenient way to run the bot. Install
Docker as explained <a href="https://docs.docker.com/engine/install/ubuntu/">here</a>.
Download the latest version of the bot image:</p>
<pre><code class="language-sh">docker pull noislabs/nois-bot:latest
</code></pre>
<p>Run the bot as follows:</p>
<pre><code class="language-sh"># Make sure you have tokens in your wallet
export MNEMONIC='&lt;YOUR_MNEMONICS_HERE&gt;'


#check Networks -&gt; contract in these docs for NOIS_DRAND_CONTRACT_ADDR
export NOIS_CONTRACT=&lt;NOIS_DRAND_CONTRAC_ADDR&gt;
#example export NOIS_CONTRACT=nois16peq3sftghumkja7nu32ztjy0ew4vsnshxfhcv6sxq573ta08gwsgldepm
export ENDPOINT=https://nois.rpc.bccnodes.com:443
export MONIKER=your-beautiful-name
#Many RPCs are available. For more info check discord #validator channel
#https://nois.rpc.bccnodes.com/

#edit above values before running the docker
docker run \
       -e MONIKER=$MONIKER \
       -e &quot;MNEMONIC=$MNEMONIC&quot; \
       -e PREFIX=nois \
       -e DENOM=unois \
       -e NOIS_CONTRACT=$NOIS_CONTRACT \
       -e ENDPOINT=$ENDPOINT \
       -e GAS_PRICE=0.05unois \
       noislabs/nois-bot:latest
</code></pre>
<h5 id="upgrading-docker-image"><a class="header" href="#upgrading-docker-image">Upgrading Docker image</a></h5>
<p>Run</p>
<pre><code>docker pull noislabs/nois-bot:latest
</code></pre>
<p>and re-start the bot as shown above.</p>
<h5 id="using-a-plain-nodejs-script"><a class="header" href="#using-a-plain-nodejs-script">Using a plain Node.js script</a></h5>
<p>The bot can also be run without containerization. This requires some Node.js
knowledge and is more manual work. But it gives operators more control and is
especially useful for debugging. Instructions are maintained
<a href="https://github.com/noislabs/nois-bot/blob/main/RUN_ON_SERVER.md">here</a>.</p>
<h4 id="drand-bot-2"><a class="header" href="#drand-bot-2">drand-bot-2</a></h4>
<p>[TODO]</p>
<h3 id="performance-factors-of-drand-bots"><a class="header" href="#performance-factors-of-drand-bots">Performance Factors of Drand Bots</a></h3>
<p>the main criteria in running a fast drand-bot is being able to broadcast your tx
as fast as possible in order to reach the proposer's node asap before the other
drand-bots. this will allow your submission tx to be placed among the first 6
bots in the mempool of the proposer's node. Obviously you need a good cpu and a
fast connection that is very close to an rpc node. Your rpc node needs to be
fast in the network and eventually needs to have fast direct peers so it can
reach the proposer before the competitor drand-bot operators. Choosing an rpc
node that is heavily used or that many other bot operators are using would not
be optimal. Using an rpc that has big voting power can slightly increase your
chances because that node gets chosen to propose blocks a bit more often than
other validator nodes so sometimes you get that small advantage when your RPC is
the block proposer. But this is a very small difference and often validator
nodes do not offer an rpc endpoint. In general if you get like +3 second delay
it is not because your bot submitted the tx 3 seconds later than the other
drand-bots but because they were few ms before you so the proposer did not
choose to select you in the proposed block because there is a consensus
blockspace that only allows 4-5 submissions. so your submission becomes leftover
for the next block (in 3 seconds) and if you also miss the second block because
there are more than 10 operators faster than your drand-bot. then your
submission only gets included in the block afterwards so +6seconds.</p>
<h3 id="check-submissions"><a class="header" href="#check-submissions">Check Submissions</a></h3>
<p>In order to check the submissions you can visit this Nois randomness
<a href="https://randomness.nois.network/">dashboard</a>
<img src="img/randomness_dashboard.jpg" alt="Dashboard" /> This tools shows randomness that was
verified on the Nois blockchain. The source of randomness is drand, a
decentralized random number generator which produces a so called &quot;random beacon&quot;
every 3 seconds. Beacons are submitted as transaction to Nois by off-chain bots.
Since beacons are cryptographically signed by drand, bots cannot influence the
randomness. A strong and diverse set of bot operator makes the submission of
beacons fast and relyable. Bots are incentivised for submissions. They receive a
rewards if they are registered and allow-listed.</p>
<div class="table-wrapper"><table><thead><tr><th>Badge Color</th><th>Description</th></tr></thead><tbody>
<tr><td>Green</td><td>Bot received a reward</td></tr>
<tr><td>Red</td><td>Bot is registered but did not receive a reward</td></tr>
<tr><td>Gray</td><td>Bot is not eligible for a reward</td></tr>
</tbody></table>
</div>
<h5 id="check-if-your-bot-is-allowlisted"><a class="header" href="#check-if-your-bot-is-allowlisted">Check if your bot is allowlisted</a></h5>
<ul>
<li>Navigate to the randomness <a href="https://randomness.nois.network/">dashboard</a></li>
<li>On the top right of the page click on info
<img src="img/randomness_dashboard_info.jpg" alt="Info" /></li>
<li>Scroll down and check the allowlisted addresses</li>
</ul>
<h3 id="incentive-system"><a class="header" href="#incentive-system">Incentive System</a></h3>
<p>[TODO]</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="node_operators/ics20_relayer.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="integrate_nois_to_your_chain.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="node_operators/ics20_relayer.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="integrate_nois_to_your_chain.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
