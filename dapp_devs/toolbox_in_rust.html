<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Toolbox in Rust - Nois Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../title.html">Nois Documentation</a></li><li class="chapter-item expanded "><a href="../general.html"><strong aria-hidden="true">1.</strong> General</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../what_is_nois.html"><strong aria-hidden="true">1.1.</strong> What is Nois</a></li><li class="chapter-item expanded "><a href="../how_it_works.html"><strong aria-hidden="true">1.2.</strong> How it works</a></li><li class="chapter-item expanded "><a href="../drand.html"><strong aria-hidden="true">1.3.</strong> Drand</a></li><li class="chapter-item expanded "><a href="../use_cases.html"><strong aria-hidden="true">1.4.</strong> Use-cases</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">1.5.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../links.html"><strong aria-hidden="true">1.6.</strong> Links</a></li></ol></li><li class="chapter-item expanded "><a href="../for_token_holders_and_investors.html"><strong aria-hidden="true">2.</strong> For token holders and investors</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../how_to_stake.html"><strong aria-hidden="true">2.1.</strong> How to stake</a></li><li class="chapter-item expanded "><a href="../tokenomics.html"><strong aria-hidden="true">2.2.</strong> Tokenomics</a></li></ol></li><li class="chapter-item expanded "><a href="../dapp_devs/use_nois_randomness.html"><strong aria-hidden="true">3.</strong> For Dapp developers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dapp_devs/contract_implementation.html"><strong aria-hidden="true">3.1.</strong> Contract Implementation</a></li><li class="chapter-item expanded "><a href="../dapp_devs/interacting_with_a_dapp.html"><strong aria-hidden="true">3.2.</strong> Interacting with a Dapp</a></li><li class="chapter-item expanded "><a href="../dapp_devs/nois_toolbox.html"><strong aria-hidden="true">3.3.</strong> Nois Toolbox</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dapp_devs/toolbox_in_rust.html" class="active"><strong aria-hidden="true">3.3.1.</strong> Toolbox in Rust</a></li><li class="chapter-item expanded "><a href="../dapp_devs/toolbox_in_js.html"><strong aria-hidden="true">3.3.2.</strong> Toolbox in js</a></li></ol></li><li class="chapter-item expanded "><a href="../dapp_devs/video_tutorial.html"><strong aria-hidden="true">3.4.</strong> Video Tutorial</a></li><li class="chapter-item expanded "><a href="../dapp_devs/dev_faq.html"><strong aria-hidden="true">3.5.</strong> Developer Questions</a></li></ol></li><li class="chapter-item expanded "><a href="../node_operators/index.html"><strong aria-hidden="true">4.</strong> For Node operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/networks.html"><strong aria-hidden="true">4.1.</strong> Networks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/mainnet.html"><strong aria-hidden="true">4.1.1.</strong> Mainnet</a></li><li class="chapter-item expanded "><a href="../node_operators/testnet_005.html"><strong aria-hidden="true">4.1.2.</strong> Testnet 005</a></li><li class="chapter-item expanded "><a href="../node_operators/faucet.html"><strong aria-hidden="true">4.1.3.</strong> Faucet</a></li><li class="chapter-item expanded "><a href="../checksums.html"><strong aria-hidden="true">4.1.4.</strong> Contract checksums</a></li></ol></li><li class="chapter-item expanded "><a href="../node_operators/run_a_node.html"><strong aria-hidden="true">4.2.</strong> Run a node</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/status_checks.html"><strong aria-hidden="true">4.2.1.</strong> Status Checks</a></li><li class="chapter-item expanded "><a href="../node_operators/history.html"><strong aria-hidden="true">4.2.2.</strong> History settings</a></li><li class="chapter-item expanded "><a href="../node_operators/cors.html"><strong aria-hidden="true">4.2.3.</strong> CORS</a></li><li class="chapter-item expanded "><a href="../node_operators/systemd.html"><strong aria-hidden="true">4.2.4.</strong> Using Systemd</a></li><li class="chapter-item expanded "><a href="../validator_rewards.html"><strong aria-hidden="true">4.2.5.</strong> Validator Rewards</a></li></ol></li><li class="chapter-item expanded "><a href="../node_operators/relayer.html"><strong aria-hidden="true">4.3.</strong> Relayer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../node_operators/wasm_relayer.html"><strong aria-hidden="true">4.3.1.</strong> wasm-Relayer</a></li><li class="chapter-item expanded "><a href="../node_operators/ics20_relayer.html"><strong aria-hidden="true">4.3.2.</strong> ICS20-Relayer</a></li></ol></li><li class="chapter-item expanded "><a href="../drand_bots.html"><strong aria-hidden="true">4.4.</strong> Drand Bots</a></li></ol></li><li class="chapter-item expanded "><a href="../integrate_nois_to_your_chain.html"><strong aria-hidden="true">5.</strong> Bring Nois to your Chain</a></li><li class="chapter-item expanded "><a href="../randdrop.html"><strong aria-hidden="true">6.</strong> Make a random airdrop for your project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../snapshot.html"><strong aria-hidden="true">6.1.</strong> Snapshot</a></li><li class="chapter-item expanded "><a href="../deployment.html"><strong aria-hidden="true">6.2.</strong> Deployment</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Nois Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/noislabs/docs2" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/noislabs/docs2/edit/main/src/dapp_devs/toolbox_in_rust.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="using-the-nois-toolbox-in-a-cosmwasm-smart-contract"><a class="header" href="#using-the-nois-toolbox-in-a-cosmwasm-smart-contract">Using the Nois Toolbox in a CosmWasm smart-contract</a></h1>
<h4 id="coinflip"><a class="header" href="#coinflip">coinflip</a></h4>
<p>Takes a randomness and returns the result of a coinflip (heads or tails)</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::coinflip;

let side = coinflip(randomness);
if side.is_heads(){
    println!(&quot;heads&quot;)
}
if side.is_tails(){
    println!(&quot;tails&quot;)
}
<span class="boring">}</span></code></pre></pre>
<h4 id="int_in_range"><a class="header" href="#int_in_range">int_in_range</a></h4>
<p>Derives a random integer in the given range. Use this method to avoid a modulo
bias.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::int_in_range;

// Half-open interval [1, 7)
let dice1 = int_in_range(randomness, 1..7);
assert!(dice1 &gt;= 1);
assert!(dice1 &lt; 7);

// Closed interval [1, 6]
let dice2 = int_in_range(randomness, 1..=6);
assert!(dice2 &gt;= 1);
assert!(dice2 &lt;= 6);
<span class="boring">}</span></code></pre></pre>
<h4 id="ints_in_range"><a class="header" href="#ints_in_range">ints_in_range</a></h4>
<p>Derives random integers in the given range. Use this method to avoid a modulo
bias. Using this is potentially more efficient than multiple calls of
<em>int_in_range</em>.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::ints_in_range;


let [dice1, dice2] = ints_in_range(randomness, 1..=6);
assert!(dice1 &gt;= 1 &amp;&amp; dice1 &lt;= 6);
assert!(dice2 &gt;= 1 &amp;&amp; dice2 &lt;= 6);
<span class="boring">}</span></code></pre></pre>
<h4 id="random_decimal"><a class="header" href="#random_decimal">random_decimal</a></h4>
<p>Returns a Decimal d with 0 &lt;= d &lt; 1</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::random_decimal;

let d = random_decimal(randomness);
<span class="boring">}</span></code></pre></pre>
<h4 id="shuffle"><a class="header" href="#shuffle">shuffle</a></h4>
<p>Shuffles a vector using the Fisher-Yates algorithm</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::shuffle;

//We are randomly shuffling a vector of integers [1,2,3,4]
let mut data = vec![1, 2, 3, 4];
shuffle(randomness, &amp;mut data);
// The length of the vector is the same but the order of the elements has changed
assert_eq!(data.len(), 4);
assert_ne!(data, vec![1, 2, 3, 4]);
<span class="boring">}</span></code></pre></pre>
<h4 id="sub_randomness_with_key"><a class="header" href="#sub_randomness_with_key">sub_randomness_with_key</a></h4>
<p>Takes a randomness and a key. Returns an arbitrary number of sub-randomnesses.
The key is mixed into the randomness such that calling this function with
different keys leads to different outputs. Calling it with the same key and
randomness leads to the same outputs.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::{sub_randomness_with_key, int_in_range};


let mut provider = sub_randomness_with_key(randomness, &quot;Key&quot;);

let dice1_subrandomness = provider.provide();
let dice2_subrandomness = provider.provide();

let dice1_result = int_in_range(dice1_subrandomness, 1..7);
let dice2_result = int_in_range(dice2_subrandomness, 1..7);
<span class="boring">}</span></code></pre></pre>
<h4 id="sub_randomness"><a class="header" href="#sub_randomness">sub_randomness</a></h4>
<p>Takes a randomness and a key. Returns an arbitrary number of sub-randomnesses.
This is equivalent to calling <em>sub_randomness_with_key</em> with key b&quot;<em>^default^</em>&quot;.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nois::{sub_randomness, int_in_range};

let mut provider = sub_randomness(randomness);

let dice1_subrandomness = provider.provide();
let dice2_subrandomness = provider.provide();

let dice1_result = int_in_range(dice1_subrandomness, 1..7);
let dice2_result = int_in_range(dice2_subrandomness, 1..7);
<span class="boring">}</span></code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../dapp_devs/nois_toolbox.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../dapp_devs/toolbox_in_js.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../dapp_devs/nois_toolbox.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../dapp_devs/toolbox_in_js.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
